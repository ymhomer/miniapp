<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Numbered Notation Editor</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header">
        <h1>Numbered Notation Editor</h1>
        <div class="toolbar">
            <button id="edit-mode-btn" class="btn btn-edit-mode">Edit Mode</button>
            <button id="play-btn" class="btn btn-success">Play</button>
            <button id="stop-btn" class="btn btn-danger">Stop</button>
            <button id="add-measure-btn" class="btn btn-primary">Add Measure</button>
            <button id="save-btn" class="btn btn-primary">Save</button>
            <button id="export-btn" class="btn btn-primary">Export</button>
            <button id="import-btn" class="btn btn-primary">Import</button>
            <input type="file" id="file-import" class="file-input" accept=".json,.txt">
        </div>
    </div>

    <div class="main-content">
        <div class="editor-controls">
            <div class="control-group">
                <label for="time-signature">Time Signature:</label>
                <select id="time-signature">
                    <option value="4/4">4/4</option>
                    <option value="3/4">3/4</option>
                    <option value="2/4">2/4</option>
                    <option value="6/8">6/8</option>
                </select>
            </div>
            <div class="control-group">
                <label for="bpm">BPM:</label>
                <input type="number" id="bpm" min="40" max="200" value="120" style="width: 60px;">
            </div>
        </div>

        <div class="editor-area" id="editor-area">
            <div class="playback-indicator" id="playback-indicator"></div>
            <div class="measure-container" id="measure-container"></div>
            <button id="add-measure-btn-bottom" class="add-measure-btn">Add Measure</button>
        </div>

        <div class="bottom-toolbar">
            <div class="note-input-buttons">
                <button class="note-btn" data-note="1">1</button>
                <button class="note-btn" data-note="2">2</button>
                <button class="note-btn" data-note="3">3</button>
                <button class="note-btn" data-note="4">4</button>
                <button class="note-btn" data-note="5">5</button>
                <button class="note-btn" data-note="6">6</button>
                <button class="note-btn" data-note="7">7</button>
                <button class="note-btn rest" data-note="0">0</button>
            </div>
            <div class="accidental-buttons">
                <button id="sharp-btn" class="btn accidental-btn" title="Sharp">#</button>
                <button id="flat-btn" class="btn accidental-btn" title="Flat">b</button>
                <button id="natural-btn" class="btn accidental-btn" title="Natural">♮</button>
            </div>
            <div class="duration-buttons">
                <button class="duration-btn btn" data-duration="1">𝅘𝅥</button>
                <button class="duration-btn btn" data-duration="0.5">𝅘𝅥𝅮</button>
                <button class="duration-btn btn" data-duration="0.25">𝅘𝅥𝅯</button>
                <button class="duration-btn btn" data-duration="2">𝅗𝅥</button>
                <button class="duration-btn btn" data-duration="1.5">𝅗𝅥.</button>
            </div>
            <div class="octave-buttons">
                <button id="octave-up-btn" class="btn" title="Octave Up">↑</button>
                <button id="octave-down-btn" class="btn" title="Octave Down">↓</button>
            </div>
            <button id="add-note-btn" class="btn btn-primary">Add Note</button>
            <button id="delete-btn" class="btn btn-danger">Delete</button>
        </div>
    </div>

    <div class="status-bar">
        <span id="status-message">Ready</span>
        <span id="selection-info">No note selected</span>
    </div>

    <!-- Save Modal -->
    <div class="modal" id="save-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Save Notation</div>
                <button class="close-modal">&times;</button>
            </div>
            <div class="form-group">
                <label for="song-title">Song Title:</label>
                <input type="text" id="song-title" placeholder="Enter song title">
            </div>
            <div class="form-group">
                <label for="song-composer">Composer:</label>
                <input type="text" id="song-composer" placeholder="Enter composer name">
            </div>
            <div class="form-group">
                <label for="save-filename">Filename:</label>
                <input type="text" id="save-filename" placeholder="Enter filename (without extension)">
            </div>
            <div class="modal-footer">
                <button id="cancel-save" class="btn btn-danger">Cancel</button>
                <button id="confirm-save" class="btn btn-success">Save</button>
            </div>
        </div>
    </div>

    <!-- Export Modal -->
    <div class="modal" id="export-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Export Notation</div>
                <button class="close-modal">&times;</button>
            </div>
            <div class="form-group">
                <label for="export-format">Format:</label>
                <select id="export-format">
                    <option value="json">JSON</option>
                    <option value="text">Text</option>
                </select>
            </div>
            <div class="form-group">
                <label for="export-filename">Filename:</label>
                <input type="text" id="export-filename" placeholder="Enter filename (without extension)">
            </div>
            <div class="modal-footer">
                <button id="cancel-export" class="btn btn-danger">Cancel</button>
                <button id="confirm-export" class="btn btn-success">Export</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>